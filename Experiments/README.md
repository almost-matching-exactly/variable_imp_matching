## Experiments

This folder contains scripts to run all of the experiments in the
*Variable Importance Matching for Causal Inference* paper.

| Experiment Name          | Section in Paper | Script                           | Env Vars                                                                                                                   | Replot Script                                                                                  | Replot Env Vars                                                                                                                                                       | Additional Notes                                                                                                                                                                           |
|--------------------------| ---------------- |----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Schools                  | 6.1 | `schools/run.py`                 | `SCHOOLS_FOLDER`: filepath to folder containing schools data saved in a file called `df.csv`. <br> `SAVE_FOLDER`: filepath where to save results. | `schools/replot.py`                                                                            | `RESULTS_FOLDER`: filepath to results generated by `schools/run.py`<br> `PLOTS_FOLDER`: filepath where to save new plots.                                             | Unfortunately, the schools data is not publically available.                                                                                                                               |
| Nonlinear Outcomes       | 6.2 | `cate_error/run_nonlinear.py`    | `RESULTS_FOLDER`: filepath where to save results. | `cate_error/Plotting/replot_nonlinear_errors.py`                                               | `RESULTS_FOLDER`: same as main script. <br> `EXP_FOLDER`: folder name where exponential results are saved. <br> `SINE_FOLDER`: filepath where sine results are saved. | The main script will save the results in folders called `sine_###` and `exp_###` in the specified `RESULTS_FOLDER` where the `###` is a counter starting at `000`.                         |
| Scaling Runtime          | 6.3 | `scaling/slurm _scale_runtime.q` | All variables must be changed to match your environment. | `scaling/plotting/scaling_all.py`                                                              | `RESULTS_FOLDER`: filepath to results created by the slurm job.                                                                                                       | Note that the script is configured to run on a Slurm cluster. The main script needs to be modified to work for your machine's environment.                                                 |
| Scaling Accuracy         | 6.3 | `scaling/slurm_scale_accuracy.q` | All variables must be changed to match your environment. | `scaling/plotting/accuracy.py` `RESULTS_FOLDER`: filepath to results created by the slurm job. | Note that the script is configured to run on a Slurm cluster. The main script needs to be modified to work for your machine's environment.                            |
| Metalearner              | 7.1 | `metalearner/metalearner.py`     | | `metalearner/replot.py`                                                                        |                                                                                                                                                                       | Before running the main script, create a folder called `Results/` in the `metalearner/` folder where the scripts while save all results.                                                   |
| Tree model               | 7.2 | `tree_model/lcm_vs_tree.py`      | |                                                                                                |                                                                                                                                                                       |                                                                                                                                                                                            |
| LCM Augmented PGM        | 7.3 | `lcm_aug_pgm/run.py`             | |                                                                                                |                                                                                                                                                                       |                                                                                                                                                                                            |
| LCM vs. ML Methods       | Supplementary | `cate_error/run_quadratic_ml.py` | `RESULTS_FOLDER`: filepath where to save results. | `cate_error/Plotting/replot_quadratic_ml.py`                                                   | `RESULTS_FOLDER`: same as main script.<br> `DENSE_CONTINUOUS_FOLDER`: dense_continuous folder name where results are saved.                                           | The main script will save the results in folders called `dense_continuous_###` in the specified `RESULTS_FOLDER` where the `###` is a counter starting at `000`.                           |
| LCM vs Feature Selection | Supplementary | `cate_error/run_fi.py`           | `RESULTS_FOLDER`: filepath where to save results. | `cate_error/Plotting/replot_fi.py`                                                             | `RESULTS_FOLDER`: same as main script.<br> `DENSE_CONTINUOUS_FOLDER`: dense_continuous folder name where results are saved. <br> `EXP_FOLDER`: folder name where exponential results are saved. <br> `SINE_FOLDER`: filepath where sine results are saved.                                          | The main script will save the results in folders called `dense_continuous_###`, `sine_###`, and `exp_###` in the specified `RESULTS_FOLDER` where the `###` is a counter starting at `000`. |
